<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.multimodule.userserver.dao.SysUserMapper">
  <resultMap id="BaseResultMap" type="com.multimodule.userserver.domain.SysUser">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <constructor>
      <arg column="ID" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="USERCODE" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="NAME" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="PASSWORD" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="PERSONID" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="AVAILABLEDATE" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="DISABLEDATE" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="SORT" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="STOPFLAG" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="REMARK" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="COMPANYCODE" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="DEPTCODE" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="SYSMANAGER" javaType="java.lang.String" jdbcType="VARCHAR" />
    </constructor>
  </resultMap>
  <select id="gainUserList" parameterType="java.lang.String" resultType="com.multimodule.userserver.domain.SysUser" resultMap="BaseResultMap">
    select u.* from sys_user u where rownum between 0 and 10 and substr(u.usercode,0,2)=#{code}
  </select>

  <select id="gainUserPageList"  parameterType="java.util.Map"  resultType="com.multimodule.userserver.domain.SysUser" resultMap="BaseResultMap">
    SELECT ID, USERCODE,NAME,PASSWORD,PERSONID,AVAILABLEDATE,DISABLEDATE,SORT,STOPFLAG,REMARK,COMPANYCODE,DEPTCODE,SYSMANAGER
    FROM  (  SELECT A.*, ROWNUM RN  FROM (SELECT u.* FROM sys_user u where u.usercode like #{param.code}||'%' ) A  WHERE ROWNUM &lt; #{param.end}  )  WHERE RN &gt;= #{param.start}
  </select>
</mapper>